{% extends "base.html" %}

{% block page_styles %}
    <!-- Config Page -->
    <link href="/css/configure.css" rel="stylesheet">
    <link href='//api.tiles.mapbox.com/mapbox.js/v1.6.0-beta0/mapbox.css' rel='stylesheet'>
{% endblock %}

{% block navbar %}
  {% include 'navbar.html' %}
{% endblock %}

{% block content %}
<div class="container configure-container">
  <ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li class="active">Configure</li>
  </ol>
  <ul class="nav nav-tabs">
    <li><a href="/configure/">Appliance</a></li>
    <li><a href="/configure/openstack/">OpenStack</a></li>
    <li class="active"><a href="/configure/instances/">Instances & Flavors</a></li>
  </ul>
  <div class="page-header">
    <h2 id="grid">OpenStack Credentials</h2>
  </div>
  <p>OpenStack credential information used by the virtual appliance can be pre-loaded using the <strong>OpenStack API RC file</strong> downloaded from your OpenStack controller.  Start by opening the OpenStack UI and clicking on the <strong>Access and Security</strong> tab to the left under the <strong>Project</strong> tab.  Click on the <strong>API Access</strong> tab at the top and then click on the <strong>Download OpenStack RC File</strong> button at the top right.  Save this file locally, then click on the <strong>Load Configuration</strong> button below to preload the form below.</p>
  <p><em>Please note you will need to manually set the password below once you have imported the RC file.</em></p>
  <button type="button" class="btn btn-warning"><span class="glyphicon glyphicon-floppy-open"></span> Load API RC from File</button>
  <div class="page-header">
    <h3 id="grid">Update Configuration</h3>
  </div>
  <form class="form-horizontal" role="form">
    <div class="form-group">
      <label for="appliancekey" class="col-sm-2 control-label">Auth URL</label>
      <div class="col-sm-6">
        <input type="text" class="form-control" id="appliancekey" placeholder="http://10.0.1.100:5000/v2.0">
      </div>
    </div>
    <div class="form-group">
      <label for="appliancekey" class="col-sm-2 control-label">Tenant Name</label>
      <div class="col-sm-6">
        <input type="text" class="form-control" id="appliancekey" placeholder="StackMonkey">
      </div>
    </div>
    <div class="form-group">
      <label for="appliancekey" class="col-sm-2 control-label">Tenant ID</label>
      <div class="col-sm-6">
        <input type="text" class="form-control" id="appliancekey" placeholder="78e98e2295344aabb82135d75bbab06e">
      </div>
    </div>
    <div class="form-group">
      <label for="appliancekey" class="col-sm-2 control-label">OpenStack Username</label>
      <div class="col-sm-6">
        <input type="text" class="form-control" id="appliancekey" placeholder="monkey">
      </div>
    </div>
    <div class="form-group">
      <label for="appliancekey" class="col-sm-2 control-label">OpenStack Password</label>
      <div class="col-sm-6">
        <input type="password" class="form-control" id="appliancekey" placeholder="******">
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <button type="submit" class="btn btn-success"><span class="glyphicon glyphicon-floppy-disk"></span> Save Configuration</button>
        <button type="submit" class="btn btn-info"><span class="glyphicon glyphicon-check"></span> Test</button>
      </div>
    </div>
  </form>
</div>
{% endblock %}

{% block javascript %}
	// login button
	$('#nav-login').on('click', function(e) { window.location = "/login" });
	var themap = L.mapbox.map('map', 'kordless.gnm28jg1', {scrollWheelZoom: false, zoomControl: false}).setView([20, 20], 3);
    setInterval(function(){themap.panBy([-1, 0]);},3000);
{% endblock %}

{% block extras %}
    <script src='//api.tiles.mapbox.com/mapbox.js/v1.6.0-beta0/mapbox.js'></script>
{% endblock %}
